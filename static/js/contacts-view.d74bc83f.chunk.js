"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[779],{8160:function(n,e,t){t.r(e),t.d(e,{default:function(){return en}});var a,r,i,o,c,s,u,l,d,f=t(2791),p=t(6030),m=t(6960),x=(t(5462),t(885)),b=t(168),h=t(955),g=h.ZP.form(a||(a=(0,b.Z)(["\n  max-width: 400px;\n\n  margin-left: auto;\n  margin-right: auto;\n  text-align: center;\n"]))),v=(h.ZP.label(r||(r=(0,b.Z)([""]))),h.ZP.input(i||(i=(0,b.Z)(["\n  width: 200px;\n  margin-bottom: 10px;\n  font-size: 13px;\n  padding: 6px 0 4px 10px;\n  border: 1px solid #cecece;\n  background: #f6f6f6;\n  border-radius: 8px;\n"]))),h.ZP.button(o||(o=(0,b.Z)(["\n  display: block;\n  cursor: pointer;\n  border: 1px solid #cecece;\n  background: #f6f6f6;\n  box-shadow: inset 0px 20px 20px #ffffff;\n  border-radius: 8px;\n  padding: 6px 22px;\n  width: 120px;\n  &:hover {\n    background: #188ce8;\n  }\n  &:focus-:focus-visible {\n  }\n"]))),h.ZP.span(c||(c=(0,b.Z)(["\n  display: flex;\n  margin-bottom: 5px;\n"]))),t(6170)),Z=t(9019),j=t(774),_=t(3853),w=t(5861),C=t(7757),k=t.n(C),P=t(4569),y=t.n(P),N=t(4443),z={fetchContacts:function(){return function(){var n=(0,w.Z)(k().mark((function n(e){var t,a;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e((0,N.$0)()),n.prev=1,n.next=4,y().get("/contacts");case 4:t=n.sent,a=t.data,e((0,N.v2)(a)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),e((0,N.I7)(n.t0.message));case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()},addContact:function(n,e){return function(t){var a={name:n,number:e};t((0,N.sT)()),y().post("/contacts",a).then((function(n){var e=n.data;return t((0,N.TL)(e))})).catch((function(n){return t((0,N.wg)(n.message))}))}},deleteContact:function(n){return function(e){e((0,N.v$)()),y().delete("/contacts/".concat(n)).then((function(){return e((0,N.fJ)(n))})).catch((function(n){return e((0,N.TO)(n.message))}))}}},I=z,T=t(6916),A=function(n){return n.contacts.loading},L=function(n){return n.contacts.items},D=((0,T.P1)([L,function(n){return n.contacts.filter}],(function(n,e){var t=e.toLowerCase();return n.filter((function(n){return null===n||void 0===n?void 0:n.name.toLowerCase().includes(t)}))})),t(3329));function F(){var n=(0,f.useState)(""),e=(0,x.Z)(n,2),t=e[0],a=e[1],r=(0,f.useState)(""),i=(0,x.Z)(r,2),o=i[0],c=i[1],s=(0,p.v9)(L),u=(0,p.I0)(),l=function(n){var e=n.target,t=e.name,r=e.value;switch(t){case"name":a(r);break;case"number":c(r);break;default:return}};return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)(g,{onSubmit:function(n){n.preventDefault(),function(n){var e=o.includes("+")?parseInt(o):o;""===t.trim()||""===o.trim()?m.Am.error(" Please fill in all fields!"):Number.isInteger(e)?s.some((function(e){return e.name.toLowerCase()===n.toLowerCase()}))?(0,m.Am)("".concat(n," is already in contacts")):u(I.addContact(t,o)):m.Am.error("The number must start with * + * !")}(n.target.name.value),a(""),c("")},children:[(0,D.jsx)(Z.Z,{type:"text",name:"name",value:t,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:l,id:"outlined-basic",label:"Name",variant:"outlined",className:j.Z.input}),(0,D.jsx)(Z.Z,{type:"tel",name:"number",value:o,onChange:l,id:"outlined-basic",label:"Number",variant:"outlined",className:j.Z.input}),(0,D.jsxs)(v.Z,{variant:"outlined",type:"submit",className:j.Z.button,children:["add contact",(0,D.jsx)(_.TKU,{className:j.Z.icon})]})]})})}var S,R,V,q,J=h.ZP.ul(s||(s=(0,b.Z)(["\n  margin-top: 15px;\n"]))),K=h.ZP.li(u||(u=(0,b.Z)(["\n  list-style: inside;\n  align-items: baseline;\n"]))),M=h.ZP.span(l||(l=(0,b.Z)(["\n  font-size: 20px;\n  margin-right: 10px;\n  margin-left: 5px;\n"]))),Y=h.ZP.button(d||(d=(0,b.Z)(["\n  margin-left: 5px;\n  background-color: #e7e7e7;\n  color: black;\n  border: none;\n  padding: 10px;\n  border-radius: 12px;\n  text-align: center;\n  text-decoration: none;\n  font-size: 16px;\n  &:hover {\n    background-color: #2d2da3;\n    color: white;\n  }\n"]))),$=(h.ZP.label(S||(S=(0,b.Z)([""]))),h.ZP.input(R||(R=(0,b.Z)(["\n  width: 200px;\n  margin-bottom: 10px;\n  font-size: 13px;\n  padding: 6px 0 4px 10px;\n  border: 1px solid #cecece;\n  background: #f6f6f6;\n  border-radius: 8px;\n"]))),h.ZP.span(V||(V=(0,b.Z)(["\n  display: flex;\n  margin-bottom: 10px;\n"]))),h.ZP.div(q||(q=(0,b.Z)(["\n  text-align: center;\n"])))),E=t(3728),O="ContactItem_listItem__nJOCe",Q=t(7169),U=t.n(Q),W=function(n){var e=n.name,t=n.number,a=n.id,r=n.onDeleteTodo,i=(0,f.useState)(!1),o=(0,x.Z)(i,2),c=o[0],s=o[1],u=(0,p.v9)(A);return(0,D.jsxs)(K,{className:O,children:[(0,D.jsxs)(M,{children:[" ",e]}),(0,D.jsxs)(M,{children:[" ",t]}),(0,D.jsx)(E.Yek,{}),(0,D.jsx)(Y,{onClick:function(){r(a),s(!0)},children:u&&c?(0,D.jsx)(U(),{size:9}):"Delete"})]},a)},B=function(n){var e=n.contacts,t=(0,p.I0)(),a=function(n){t(I.deleteContact(n))};return(0,D.jsxs)(J,{children:[e&&e.map((function(n){var e=n.id,t=n.number,r=n.name;return(0,D.jsx)(W,{id:e,number:t,name:r,onDeleteTodo:a},e)})),0===e.length&&(0,D.jsx)("p",{children:"Your phonebook is empty. Please add contact."})]})},G="Filter_input__jDMWd",H=function(){var n=(0,f.useState)(""),e=(0,x.Z)(n,2),t=e[0],a=e[1],r=(0,p.v9)(L),i=r&&r.filter((function(n){return null===n||void 0===n?void 0:n.name.toLowerCase().includes(t)}));return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)($,{children:[(0,D.jsx)(Z.Z,{type:"text",name:"filter",value:t,onChange:function(n){a(n.currentTarget.value)},id:"outlined-basic",variant:"outlined",label:"find contacts by name ",className:G}),(0,D.jsx)(B,{contacts:i})]})})},X="Title_title__s5MnP",nn=function(n){var e=n.name;return(0,D.jsx)("h2",{className:X,children:e})},en=function(){var n=(0,p.I0)(),e=(0,p.v9)(L);return(0,f.useEffect)((function(){e.length>=0&&n(I.fetchContacts())}),[n,e.length]),(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(nn,{name:"Phonebook"}),(0,D.jsx)(F,{}),(0,D.jsx)(m.Ix,{}),(0,D.jsx)(nn,{name:"Contacts"}),(0,D.jsx)(H,{}),(0,D.jsx)(J,{})]})}},774:function(n,e){e.Z={form:"RegisterView_form__UQKIh",input:"RegisterView_input__EqQ90",button:"RegisterView_button__xWlzK",icon:"RegisterView_icon__4bY2q"}}}]);
//# sourceMappingURL=contacts-view.d74bc83f.chunk.js.map